<?php
declare(strict_types=1);

namespace rikmeijer\Teach\Beans\Generated;

use TheCodingMachine\TDBM\ResultIterator;
use TheCodingMachine\TDBM\AlterableResultIterator;
use Ramsey\Uuid\Uuid;
use TheCodingMachine\TDBM\AbstractTDBMObject;

/*
 * This file has been automatically generated by TDBM.
 * DO NOT edit this file, as it might be overwritten.
 * If you need to perform changes, edit the DoctrineMigrationVersion class instead!
 */

/**
 * The AbstractDoctrineMigrationVersion class maps the 'doctrine_migration_versions' table in database.
 */
abstract class AbstractDoctrineMigrationVersion extends AbstractTDBMObject implements \JsonSerializable
{
    /**
     * The constructor takes all compulsory arguments.
     *
     * @param string $version
     */
    public function __construct(string $version)
    {
        parent::__construct();
        $this->setVersion($version);
    }

    /**
     * The getter for the "version" column.
     *
     * @return string
     */
    public function getVersion() : string
    {
        return $this->get('version', 'doctrine_migration_versions');
    }

    /**
     * The setter for the "version" column.
     *
     * @param string $version
     */
    public function setVersion(string $version) : void
    {
        $this->set('version', $version, 'doctrine_migration_versions');
    }

    /**
     * The getter for the "executed_at" column.
     *
     * @return \DateTimeImmutable|null
     */
    public function getExecutedAt() : ?\DateTimeImmutable
    {
        return $this->get('executed_at', 'doctrine_migration_versions');
    }

    /**
     * The setter for the "executed_at" column.
     *
     * @param \DateTimeImmutable|null $executed_at
     */
    public function setExecutedAt(?\DateTimeImmutable $executed_at) : void
    {
        $this->set('executed_at', $executed_at, 'doctrine_migration_versions');
    }


    /**
     * Serializes the object for JSON encoding.
     *
     * @param bool $stopRecursion Parameter used internally by TDBM to stop embedded objects from embedding other objects.
     * @return array
     */
    public function jsonSerialize($stopRecursion = false)
    {
        $array = [];
        $array['version'] = $this->getVersion();
        $array['executedAt'] = ($this->getExecutedAt() === null) ? null : $this->getExecutedAt()->format('c');


        return $array;
    }

    /**
     * Returns an array of used tables by this bean (from parent to child relationship).
     *
     * @return string[]
     */
    protected function getUsedTables() : array
    {
        return [ 'doctrine_migration_versions' ];
    }
}
